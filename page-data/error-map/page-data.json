{"componentChunkName":"component---src-templates-blog-post-js","path":"/error-map/","result":{"data":{"site":{"siteMetadata":{"title":"Galih Blog"}},"markdownRemark":{"id":"6c6ef12e-5c32-56f9-ba7f-e0a721d7ed41","excerpt":"Ketika sedang mendevelop aplikasi web berbasis React JS, seringkali kita mendapatkan pesan error seperti berikut : Apa sebenarnya yang terjadi, apa penyebabnyaâ€¦","html":"<p>Ketika sedang mendevelop aplikasi web berbasis React JS, seringkali kita mendapatkan pesan error seperti berikut :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error : Cannot read property &#39;map&#39; of undefined</code></pre></div>\n<p>Apa sebenarnya yang terjadi, apa penyebabnya, dan bagaimana solusinya?\ncheck it out</p>\n<h4>Apa penyebabnya?</h4>\n<p>Pada JavaScript, <code class=\"language-text\">map</code> adalah properti yang <strong>HANYA</strong> dimiliki oleh variabel dengan tipe data <em>array</em>. Sehingga jika terdapat variabel selain <em>array</em>, lalu dikenai <code class=\"language-text\">map</code> maka akan muncul pesan <em>error</em>. Contoh :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> hihi <span class=\"token operator\">=</span> <span class=\"token string\">\"some string\"</span>\n\nhihi<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">// ERROR</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> hihi <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">]</span>\n\nhihi<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">// TIDAK ERROR</span></code></pre></div>\n<p>walaupun array kosong, tidak akan menghasilkan <em>error</em></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> hihi <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\nhihi<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">// TIDAK ERROR</span></code></pre></div>\n<p>Nah, sekarang jika variabel dengan tipe data <code class=\"language-text\">undefined</code> dikenai <code class=\"language-text\">map</code> maka akan muncul pesan error <strong>seperti pada judul artikel ini</strong> .\nSeperti pada contoh berikut ini:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> hihi <span class=\"token operator\">=</span> <span class=\"token keyword\">undefined</span>\n\nhihi<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">// ERROR</span>\n<span class=\"token comment\">// Cannot read property 'map' of undefined</span></code></pre></div>\n<p>Itulah makna dari kata-kata :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error : Cannot read property &#39;map&#39; of undefined</code></pre></div>\n<blockquote>\n<p>Saya sudah meng-assign array ke variabel tersebut, tapi kenapa tetap muncul pesan error tersebut?</p>\n</blockquote>\n<p>Kasus-kasus seperti ini yang sering terjadi ketika sedang mendevelop aplikasi web berbasis React JS. Pertanyaanya adalah, mana yang lebih dulu berjalan? Apakah <em>assign</em>-nya dulu atau <code class=\"language-text\">map</code> nya dulu? Jangan-jangan ketika <code class=\"language-text\">map</code> nya dijalankan, variablenya belum di-<em>assign</em> dengan sebuah <em>array</em>?</p>\n<p>Mari kita tinjau contoh komponen berikut:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>buah<span class=\"token punctuation\">,</span> setBuah<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        fetchData<span class=\"token operator\">...</span>\n        <span class=\"token function\">setBuah</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>   <span class=\"token comment\">// res.data berisi array</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span> buah<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span> item <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span></code></pre></div>\n<p>Pada contoh di atas, kita sudah meng-<em>assign</em> variabel <code class=\"language-text\">buah</code> dengan sebuah <em>array</em>, namun akan tetap muncul pesan <em>error</em></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error : Cannot read property &#39;map&#39; of undefined</code></pre></div>\n<p>Kenapa bisa begitu?</p>\n<blockquote>\n<p>Ingat bahwa pada React JS, <code class=\"language-text\">useEffect</code> baru dieksekusi SETELAH render.</p>\n</blockquote>\n<p>Jadi ketika komoponen di atas dipanggil, pertama-tama React akan merender komponen tersebut (termasuk pada bagian <code class=\"language-text\">buah.map(...)</code> ). Setelah render yang pertama, React baru menjalankan <code class=\"language-text\">useEffect</code>.</p>\n<p>Sehingga ketika <code class=\"language-text\">map</code> nya dijalankan, variablenya BELUM di-<em>assign</em> dengan sebuah <em>array</em>. Itulah mengapa muncul pesan error tersebut</p>\n<h4>Bagaimana solusinya?</h4>\n<h5>Solusi 1</h5>\n<p>Gunakan array kosong sebagai <em>initial value</em> .</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>buah<span class=\"token punctuation\">,</span> setBuah<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Karena sebuah <em>array</em> walaupun kosong, tetap memiliki properti <code class=\"language-text\">map</code>. Sehingga tidak akan memunculkan pesan <em>error</em>. Array kosong yang dikenai <code class=\"language-text\">map</code> juga tidak akan me-<em>return</em> apapun</p>\n<h5>Solusi 2</h5>\n<p>Gunakan operator <code class=\"language-text\">&amp;&amp;</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">buah <span class=\"token operator\">&amp;&amp;</span> buah<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span> item <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>dengan begitu, JS akan melihat terlebih dahulu nilai dari <code class=\"language-text\">buah</code>.\nJika nilai dari <code class=\"language-text\">buah</code> masih <code class=\"language-text\">undefined</code>, JS tidak akan meneruskan untuk menjalakan <code class=\"language-text\">buah.map( ... )</code>. Sehingga tidak akan terjadi error</p>\n<p>Jika nilai dari <code class=\"language-text\">buah</code> sudah ada (dalam bentuk array), maka JS akan meneruskan untuk menjalankan <code class=\"language-text\">buah.map( ... )</code></p>\n<p>Hal ini dikarenakan operator <code class=\"language-text\">&amp;&amp;</code> akan mereturn <em>first falsy value</em>. Lebih jauh bisa dipahami <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND\">disini</a></p>\n<h5>Solusi 3</h5>\n<p>Gunakan <em>optional chaining</em>.\nSebenarnya ini sama dengan solusi 2, namun penulisannya bisa lebih singkat.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">buah<span class=\"token operator\">?.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span> item <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Lebih jauh tentang <em>optional chaining</em> bisa dilihat <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining\">disini</a>.</p>\n<p>Sekian artikel kali ini, semoga bermanfaat, terimakasih.\nSupport dan diskusi di tweet ini ðŸ‘‡ðŸ‘‡ðŸ‘‡</p>\n<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">Halloo, my first blog post here<a href=\"https://t.co/6VGwaiQPA1\">https://t.co/6VGwaiQPA1</a></p>&mdash; Gal (@gpwisnujati) <a href=\"https://twitter.com/gpwisnujati/status/1501414602017755137?ref_src=twsrc%5Etfw\">March 9, 2022</a></blockquote> <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>","frontmatter":{"title":"Dibalik 'Error : Cannot read property 'map' of undefined'","date":"March 09, 2022","description":"Ada apa dibalik error tersebut?"}}},"pageContext":{"slug":"/error-map/","previous":null,"next":{"fields":{"slug":"/about/"},"frontmatter":{"title":"About Me"}}}},"staticQueryHashes":["2644053420","2841359383"]}